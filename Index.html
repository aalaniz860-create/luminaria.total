<!DOCTYPE html>
<html>
<head>
	<title>Luminaria Total</title>
	<meta charset="utf-8">
	<meta name="ilse" content="wght=decervice">
	<link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
	<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;300;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="estilo.css">
</head>
<body>
	<!-- BOT√ìN FLOTANTE -->
<button id="chat-float-btn">üí¨</button>

<!-- VENTANA DE CHAT -->
<div id="chat-window">
  <div id="chat-header">Asistente IA</div>

  <div id="chat-output">Hola üëã ¬øEn qu√© puedo ayudarte?</div>

  <div id="chat-input">
    <input id="chat-message" type="text" placeholder="Escribe tu pregunta...">
    <button id="send-btn">Enviar</button>
  </div>
</div>


<script>
  /*********************************
   *     1) CONFIGURAR TU SITIO    *
   *********************************/
  const SITE_URL = "https://aalaniz860-create.github.io/luminaria.total/Index.html"; // ‚Üê CAMBIA ESTA URL

  let siteText = "";  // Aqu√≠ guardaremos el texto de la web


  /*********************************
   *  2) CARGAR TEXTO DEL SITIO    *
   *********************************/
  async function loadSiteContent() {
    output.innerHTML = "Cargando contenido del sitio...";

    try {
      const res = await fetch(SITE_URL);
      const html = await res.text();

      // Convertir HTML a solo texto
      siteText = html.replace(/<[^>]*>/g, " ").replace(/\s+/g, " ");

      output.innerHTML = "Modelo cargando...";
    }
    catch (e) {
      siteText = "";
      output.innerHTML = "No se pudo leer el sitio (CORS bloqueado).";
    }
  }


  /*********************************
   *    3) BOT√ìN Y ELEMENTOS UI    *
   *********************************/
  const floatBtn = document.getElementById("chat-float-btn");
  const chatWindow = document.getElementById("chat-window");
  const output = document.getElementById("chat-output");
  const input = document.getElementById("chat-message");
  const sendBtn = document.getElementById("send-btn");

  floatBtn.onclick = () => {
    chatWindow.style.display = chatWindow.style.display === "flex" ? "none" : "flex";
  };


  /*********************************
   *      4) INICIALIZAR IA        *
   *********************************/
  const chat = new webllm.ChatModule();
  let ready = false;

  async function initModel() {
    output.innerHTML = "Cargando IA local (puede tardar)...";

    await chat.loadModel("TinyLlama-1.1B-Chat-v0.3-q4f32_1");

    ready = true;
    output.innerHTML = "Listo. Pregunta algo sobre el sitio.";
  }


  /*********************************
   *       5) ENVIAR MENSAJE       *
   *********************************/
  async function sendMessage() {
    const message = input.value.trim();
    if (!message) return;
    if (!ready) {
      output.innerHTML += "<br><b>IA:</b> El modelo a√∫n est√° cargando...";
      return;
    }

    // Mostrar mensaje del usuario
    output.innerHTML += `<br><b>T√∫:</b> ${message}`;
    output.scrollTop = output.scrollHeight;

    input.value = "";

    // Prompt especializado en el sitio
    const prompt = `
Eres un asistente experto que responde exclusivamente con informaci√≥n del siguiente sitio:

=== CONTENIDO DEL SITIO ===
${siteText}
===========================

Si la respuesta no aparece en el sitio, responde  
"‚ö† No tengo datos sobre eso en el sitio."

Pregunta del usuario: ${message}
`;

    // Generar respuesta IA
    const reply = await chat.generate(prompt);

    output.innerHTML += `<br><b>IA:</b> ${reply}`;
    output.scrollTop = output.scrollHeight;
  }

  sendBtn.onclick = sendMessage;
  input.addEventListener("keydown", (e) => {
    if (e.key === "Enter") sendMessage();
  });


  /*********************************
   *   6) INICIALIZAR TODO         *
   *********************************/
  (async () => {
    await loadSiteContent();
    await initModel();
  })();
</script>


<!-- Bot√≥n que abre el men√∫ -->
<i class='bx bx-menu menu-btn' onclick="abrirMenu()"></i>

<div id="menu" class="menu">

    <a href="javascript:void(0)" onclick="cerrarMenu()">Cerrar ‚úñ</a>

    <a href="Index.html">Inicio</a>

     <a href="lamparas.html">Lamparas</a>

        <i id="flecha" class='bx bx-chevron-right flecha'></i>
    </a>

    

    <a href="contacto.html">Contacto</a>
</div>

<script>
    function abrirMenu() {
        document.getElementById("menu").style.width = "260px";
    }

    function cerrarMenu() {
        document.getElementById("menu").style.width = "0";
    }

    function toggleSubmenu() {
        let submenu = document.getElementById("submenu");
        let flecha = document.getElementById("flecha");

        if (submenu.style.maxHeight) {
            submenu.style.maxHeight = null;
            flecha.classList.remove("rotar");
        } else {
            submenu.style.maxHeight = submenu.scrollHeight + "px";
            flecha.classList.add("rotar");
        }
    }
</script>
	<div class="contenedor head">
	<h1 class="titulo">Luminaria Total</h1>
	<p class="copy">"Luz que protege y dura"</p>
	</header>
</div>
<main>
	<section class="services contenedor" id="Servicios">
	<h2 class="subtitulo">Luminaria Total</h2>
	<div class="contenedor-servicio">

	<div class="checklist-servicio">
		<div class="service">
			<h3 class="n-service"><span class="number">1</span>Problematica</h3>
			<p>La falta de iluminaci√≥n en las calles es un problema que afecta la seguridad de la comunidad, ya que aumenta el riesgo de accidentes y robos durante la noche. Esta situaci√≥n genera temor en los habitantes y dificulta el tr√°nsito de personas y veh√≠culos. Adem√°s, da una mala imagen del lugar y limita las actividades nocturnas, afectando la calidad de vida de la poblaci√≥n.</p>
		</div>
		<div class="service">
			<h3 class="n-service"><span class="number">2</span>Quienes Somos</h3>
			<p>Somos una compa√±√≠a especializada en la venta, instalaci√≥n y reparaci√≥n de l√°mparas suburbanas y sistemas de iluminaci√≥n exterior. Desde nuestros inicios, hemos trabajado con el compromiso de ofrecer soluciones duraderas, seguras y eficientes para alumbrar calles, fraccionamientos, industrias y espacios p√∫blicos</p>
		</div>
		<div class="service">
			<h3 class="n-service"><span class="number">3</span>Objetivo</h3>
			<p>Brindar soluciones integrales de iluminaci√≥n exterior mediante la venta, instalaci√≥n y reparaci√≥n de l√°mparas suburbanas, garantizando productos de alta calidad, atenci√≥n especializada y un servicio t√©cnico confiable que contribuya a la seguridad, eficiencia y desarrollo de las comunidades y espacios p√∫blicos</p>
		</div>
	</div>
	</div>	
	</section>

			<section class="contenedor" id="expertos">
				<h2 class="subtitulo">Luminaria Total</h2>
				<section class="experts">
					<div class="cont-expert">
						<img src="img/pago.png">
						<h3 class="n-expert"> Precios accesibles</h3>
					</div>
					<div class="cont-expert">
						<img src="img/repa.png">
						<h3 class="n-expert">Reparaciones Garantizadas</h3>
					</div>
					<div class="cont-expert">
						<img src="img/tec.jpg">
						<h3 class="n-expert">Contamos con personal capacitado</h3>
					</div>
				</section>
				</section>
</main>
<footer id=contacto>
	<div class="contenedor footer-content">
		<h2 class="brand">Luminaria Total</h2>
		<p>"Luz que protege y dura"</p>
	</div>
	<div class="social-media">
		<a href="https://www.facebook.com/share/17c6cZKU8D/?mibextid=wwXIfr " class="social-media-icon">
			<i class='bx bxl-facebook'></i>
		</a>
	</div>
	<div class="social-media">
		<a href="https://www.instagram.com/luminaria_total?igsh=bjZ6Nms5cDlvd3cw&utm_source=qr " class="social-media-icon">
		<i class='bx bxl-instagram' ></i>
		</a>
	</div>
</footer>
</body>
<script src="menuu.js"></script>
<script src="lightbox.js"></script>

</html>
















